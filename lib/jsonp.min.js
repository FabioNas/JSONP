(function(){!function(){var e,n,r,t,o,d,u,a;return r=function(e){return window.document.createElement(e)},t=window.encodeURIComponent,u=Math.random,e=function(e){var t,d,u,l,c,i,f;if(e=e?e:{},i={data:e.data||{},error:e.error||o,success:e.success||o,beforeSend:e.beforeSend||o,complete:e.complete||o,url:e.url||""},i.computedUrl=n(i),0===i.url.length)throw new Error("MissingUrl");return l=!1,i.beforeSend({},i)!==!1?(u=e.callbackName||"callback",d=e.callbackFunc||"jsonp_"+a(15),t=i.data[u]=d,window[t]=function(e){return window[t]=null,i.success(e,i),i.complete(e,i)},f=r("script"),f.src=n(i),f.async=!0,f.onerror=function(e){return i.error({url:f.src,event:e}),i.complete({url:f.src,event:e},i)},f.onload=f.onreadystatechange=function(){return l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(l=!0,f.onload=f.onreadystatechange=null,f&&f.parentNode&&f.parentNode.removeChild(f),f=null)},c=c||window.document.getElementsByTagName("head")[0]||window.document.documentElement,c.insertBefore(f,c.firstChild)):void 0},o=function(){return void 0},n=function(e){var n;return n=e.url,n+=e.url.indexOf("?")<0?"?":"&",n+=d(e.data)},a=function(e){var n;for(n="";n.length<e;)n+=u().toString(36)[2];return n},d=function(e){var n,r,o;n=[];for(r in e)o=e[r],n.push(t(r)+"="+t(o));return n.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:window.JSONP=e}()}).call(this);